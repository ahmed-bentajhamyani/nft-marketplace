<div class="mt-5">

    <div class="flex justify-center items-center rounded-lg border shadow-lg p-2 w-48 h-full mb-4">
        <img *ngIf="retrievedCollectionImage != null" class="rounded-lg w-[180px]" [src]="retrievedCollectionImage"
            alt="" />
        <div *ngIf="retrievedCollectionImage == null"
            class="flex justify-center items-center rounded-lg w-[180px] h-48 bg-gray-100">
            <fa-icon [icon]="faImage" class="text-gray-200" size="4x"></fa-icon>
        </div>
    </div>

    <div class='mb-7'>
        <div class="flex justify-between items-center">
            <p class='font-bold text-4xl'>{{collection.name}}</p>
            <div class="flex justify-end items-center">
                <!-- Website -->
                <div (click)="goTo(collection.website)"
                    class="flex justify-center items-center mx-1.5 bg-white w-12 h-12 rounded-full hover:shadow-xl cursor-pointer">
                    <fa-icon [icon]="faGlobe" class="text-gray-900" size="lg"></fa-icon>
                </div>
                <!-- Discord -->
                <a (click)="goTo(collection.discord)"
                    class="flex justify-center items-center mx-1.5 bg-white w-12 h-12 rounded-full hover:shadow-xl cursor-pointer">
                    <fa-icon [icon]="faDiscord" class="text-gray-900" size="lg"></fa-icon>
                </a>
                <!-- Twitter -->
                <a (click)="goTo(collection.twitter)"
                    class="flex justify-center items-center mx-1.5 bg-white w-12 h-12 rounded-full hover:shadow-xl cursor-pointer">
                    <fa-icon [icon]="faTwitter" class="text-gray-900" size="lg"></fa-icon>
                </a>

                <div class="w-[1px] h-6 bg-gray-200 mx-1"></div>

                <!-- Share -->
                <a
                    class="flex justify-center items-center mx-1.5 bg-white w-12 h-12 rounded-full hover:shadow-xl cursor-pointer">
                    <fa-icon [icon]="faShareNodes" class="text-gray-900" size="lg"></fa-icon>
                </a>
                <!-- Ellipsis Menu -->
                <a data-dropdown-toggle="collectionEllipsisDropdown"
                    class="flex justify-center items-center mx-1.5 bg-white w-12 h-12 rounded-full hover:shadow-xl cursor-pointer">
                    <fa-icon [icon]="faEllipsis" class="text-gray-900" size="lg"></fa-icon>
                </a>

                <!-- Collection Ellipsis Dropdown menu -->
                <div id="collectionEllipsisDropdown"
                    class="hidden z-5000 w-60 bg-white rounded-lg divide-y divide-gray-100 shadow-lg">
                    <ul class="text-sm text-gray-700" aria-labelledby="collectionEllipsisDropdown">
                        <li>
                            <ng-container *ngIf="user != null">
                                <a *ngIf="owner.id == user.id" [routerLink]="['/edit/collection', collection.name]"
                                    class="flex items-center text-sm font-semibold py-3.5 px-4 hover:bg-gray-100 rounded-t-lg"><fa-icon
                                        [icon]="faPenToSquare" class="mr-4" size="lg"></fa-icon> Edit</a>
                            </ng-container>
                            <a
                                class="flex items-center text-sm font-semibold py-3.5 px-4 hover:bg-gray-100 rounded-b-lg">
                                <fa-icon [icon]="faFlag" class="mr-4" size="lg"></fa-icon> Report</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <p class='text-base text-gray-500 mb-1'>By <a [routerLink]="['/account', owner.walletAddress]"
                class="font-bold text-gray-900">{{owner.username}}</a>
        </p>
        <p class='text-base text-gray-500 mb-1'>Items <span class="font-bold text-gray-900">{{collection.items}}</span>
            · Created <span class="font-bold text-gray-900">{{collection.createdAt}}</span> · Category <span
                class="font-bold text-gray-900">{{collection.categoryName}}</span></p>
        <p class='text-base text-gray-700 w-2/3'>{{collection.description}}</p>
    </div>

    <ng-container *ngIf="nfts.length != 0">
        <div class="mb-9">
            <div class="mb-4">
                <p class='font-bold text-2xl mb-2'>Items</p>
                <hr />
            </div>
            <div *ngIf="nfts != null" class="grid grid-cols-5">
                <!-- Items -->
                <ng-container *ngFor="let nft of nfts">
                    <app-item-card [nft]="nft" [retrievedImage]="retrievedNftImages[nft.name]"></app-item-card>
                </ng-container>
            </div>
        </div>
    </ng-container>
</div>